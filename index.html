<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learn a thing, a day</title>


    <link rel="stylesheet" href="style/style.css">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.7.0/fonts/remixicon.css" rel="stylesheet"/>
    <link rel="apple-touch-icon" sizes="180x180" href="favicon_io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon_io/favicon-16x16.png">
    <link rel="manifest" href="favicon_io/site.webmanifest">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=Bebas+Neue&family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Orbitron:wght@400..900&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Quicksand:wght@300..700&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=Bebas+Neue&family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Orbitron:wght@400..900&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Quicksand:wght@300..700&display=swap" rel="stylesheet">

    <meta name="description" content="Boost your curiosity! Get daily doses of interesting facts, insights, and knowledge. Learn something new every day!">
    <meta rel="canonical" href="https://learn-a-thing-a-day.netlify.app/">
    <meta name="robots" content="index, follow">
    <meta name="author" content="Learnicationdaily">

    <meta property="og:type" content="website">
    <meta property="og:title" content="Learn a Thing, a Day">
    <meta property="og:description" content="Level up your daily dose of knowledge! Join the journey - Learn a thing, a day">
    <meta property="og:url" content="https://learn-a-thing-a-day.netlify.app/">
    <meta property="og:image" content="hhttps://learn-a-thing-a-day.netlify.app/og-image.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Learn a Thing, a Day">
    <meta name="twitter:description" content="Level up your daily dose of knowledge! Join the journey - Learn a thing, a day">
    <meta name="twitter:image" content="https://learn-a-thing-a-day.netlify.app/og-image.png">

    <link rel="preload" href="style/style.css" as="style">

    <style>
        body{
            margin: 0;
            padding: 0;
            background-color: #f0f0f0;
            }
    </style>
</head>
<body>
   <header>
        <nav class="nav-menu">
            <ul class="nav-list">
                <li><a href="index.html">HOME</a></li>
                <li><a href="feed.html">THE FEED</a></li>
            </ul>
        </nav>
        <div class="hero-section">
            <h1><span class="first-word">Learn</span> <span class="second-third-word">a thing,</span> a day</h1><br>
            <p>Checkout our daily updates</p><br>
            <a href="#FC"><button class="CTA-button">Stay Updated</button></a>
        </div>
   </header>

   <main>
    
        <section class="Featured-section" id="FC">
            <div id="featured-target">
                <h2>Featured Content</h2>
                <p>Loading the latest insight...</p>
            </div>
        </section>

        <section class="Discovery-section">
            <div>
                <h2>Content Discovery Grid</h2>
                <div class="article-section" id="grid-target">
                    <p>Fetching latest updates...</p>
                </div>
            </div>
        </section>
            
        <section class="Newsletter-section">
            <div>
                <h2>Newsletter-section</h2>
                <p>Join our community of lifelong learners. Get one thought-provoking idea delivered to your inbox every morning—no fluff, just knowledge.</p>
                <form action="https://formspree.io/f/YOUR_ID_HERE" method="POST" class="newsletter-form">
                    <input type="email" id="email" name="email" placeholder="Your Email" required>
                        
                    <input type="hidden" name="_next" value="https://emmystack01.github.io/learn-a-thing-a-day/">

                    <input type="text" name="_gotcha" style="display:none">

                    <button type="submit" id="submit" class="submit-btn">Submit</button>
                </form>
            </div>
        </section>
        <section class="About-section">
            <div>
                <h2>The "About" Blurb</h2>
                <p><strong>Curiosity, delivered daily.</strong></p>
                <p>
                    We believe that growth isn't about giant leaps, but about the small things 
                    we learn every single day. At Learnicationdaily, we cut through the noise 
                    to bring you one meaningful insight, fact, or perspective every 24 hours. 
                    Whether it's diving into the psychology of happiness or exploring the 
                    frontiers of tech, we’re here to help you stay sharp and stay curious.
                </p>
            </div>
        </section>
   </main>

   <footer>
        <div class="copyright-container">
            <div class="copyright">
                <div class="copy">&copy; <span id="year"></span> Learnicationdaily. All Rights Reserved.</div>
                <div class="license">This work is licensed under <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/">CC BY-NC-ND 4.0</a></div>
                <div class="dev">Built by <a href="https://x.com/Emmy_STACK01" target="_blank" rel="noopener noreferrer" >Emmy STACK01<i class="ri-twitter-x-fill"></i></a></div>
            </div>
        </div>
   </footer>
<script>
    async function loadHomepageContent() {
    const repo = "emmystack01/learn-a-thing-a-day"; 
    const path = "content/articles";
    const featuredTarget = document.getElementById('featured-target');
    const gridTarget = document.getElementById('grid-target');

    try {
        // FIXED: Wrap URL in backticks
        const response = await fetch(`https://api.github.com/repos/${repo}/contents/${path}`);
        const files = await response.json();
        
        // Reverse so the newest files appear first
        const latestFiles = files.reverse();

        gridTarget.innerHTML = ''; 
        let count = 0;

        for (const file of latestFiles) {
            const contentRes = await fetch(file.download_url);
            const text = await contentRes.text();

            // Extract data
            const titleMatch = text.match(/title:\s*"(.*)"/);
            const isFeatured = text.includes('featured: true');
            const title = titleMatch ? titleMatch[1] : "New Lesson";
            const imageMatch = text.match(/image:\s*"(.*)"/);
            const imageUrl = imageMatch ? imageMatch[1] : ""; 
            
            const body = text.split('---').pop().trim();
            const previewText = body.split('\n')[0].substring(0, 120) + "...";

            // 1. Handle Featured Section
            if (isFeatured && featuredTarget.dataset.loaded !== "true") {
                // FIXED: Wrapped in backticks and added proper conditional image rendering
                featuredTarget.innerHTML =` 
                    <div style="display: flex; flex-wrap: wrap; background: white; border-radius: 12px; overflow: hidden;">
                        ${imageUrl ? `<div style="flex: 1; min-width: 300px;"><img src="${imageUrl}" style="width:100%; height:100%; object-fit:cover;"></div>` : ''}
                        <div style="flex: 1; padding: 40px; min-width: 300px;">
                            <h2 style="margin-top:0;">Featured: ${title}</h2>
                            <p>${previewText}</p>
                            <a href="article-detail.html?post=${file.name}" class="CTA-button" style="text-decoration:none;">Read Full Story</a>
                        </div>
                    </div>`;
                featuredTarget.dataset.loaded = "true";
            }

            // 2. Handle Grid (Latest 3)
            if (count < 3) {
                const gridItem = document.createElement('div');
                // FIXED: Wrapped class name in backticks
                gridItem.className = `a${count + 1}`; 
                
                // FIXED: Wrapped innerHTML in backticks
                gridItem.innerHTML =` 
                    ${imageUrl ? `<img src="${imageUrl}" class="grid-image" alt="${title}">` : ''}
                    <div class="grid-text-content">
                        <p><strong>${title}</strong></p>
                        <p style="font-size: 0.85rem;">${previewText}</p>
                        <a href="article-detail.html?post=${file.name}" style="font-size: 0.8rem;">Learn More</a>
                    </div>`;
                gridTarget.appendChild(gridItem);
                count++;
            }
        }
    } catch (error) {
        console.error("CMS Error:", error);
    }
}

loadHomepageContent();

    /*AUTO-CHANGE-YEAR*/
    document.getElementById('year').textContent = new Date().getFullYear();
</script>   
</body>
</html>

